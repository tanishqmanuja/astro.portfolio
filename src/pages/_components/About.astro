---
import Section from "@/components/Section.astro";
import { GITHUB_USERNAME } from "@/site.config";
import { cached } from "@/utils/cache";
import { getTotalPublicRepos, getTotalStars } from "./utils/github";

const publicRepos = await cached("total-public-repos", () =>
  getTotalPublicRepos(GITHUB_USERNAME),
);

const stars = await cached("total-stars", () => getTotalStars(GITHUB_USERNAME));
---

<Section title="About">
  <p>
    I am a passionate javascript developer who turns complex problems into
    simple solutions using the right architecture. I have over <span
      class="highlight">{publicRepos}</span
    > public repositories and earned around
    <span class="highlight">{stars}</span> stars on github.
  </p>
</Section>

<style>
  .highlight {
    font-family: var(--ff-pixelated);
    font-size: 0.78em;
    font-weight: bold;
    color: var(--color-text-highlight);
  }

  p {
    font-size: var(--fs-fluid-0);
    @media screen and (max-width: 600px) {
      text-wrap: balance;
    }
  }
</style>

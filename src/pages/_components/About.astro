---
import Section from "@/components/Section.astro";
import { GITHUB_USERNAME } from "@/site.config";
import { cached } from "@/utils/cache";
import Socials from "./Socials.astro";
import { getTotalPublicRepos, getTotalStars } from "./utils/github";

const publicRepos = await cached("total-public-repos", () =>
  getTotalPublicRepos(GITHUB_USERNAME),
);

const stars = await cached("total-stars", () => getTotalStars(GITHUB_USERNAME));
---

<Section title="About" class="container:inline-size | flow">
  <p class="fs-fluid-0">
    I am a passionate javascript developer who turns complex problems into
    simple solutions using the right architecture. I have over <span
      class="quoted highlight"
      data-quote-mark="_">{publicRepos}</span
    > public repositories and earned around
    <span class="quoted highlight" data-quote-mark="_">{stars}</span> stars on github.
  </p>

  <p> Connect with me on ... </p>
  <Socials />
</Section>

<style>
  .flow {
    --flow-space: var(--space-fluid-xs);
  }

  .highlight {
    font-family: var(--ff-pixelated);
    font-size-adjust: var(--fs-adjust-pixelated);
    color: var(--color-text-highlight);
  }

  @container (width < 35rem) {
    p {
      text-wrap: balance;
    }
  }
</style>

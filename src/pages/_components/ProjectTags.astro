---
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"section"> {
  tags: string[];
}

const { tags } = Astro.props;
---

{
  tags.length > 0 && (
    <section {...Astro.props}>
      <h3>
        <a
          href="/tags/"
          class="secondary-selectable"
          title="All Tags"
          aria-label="Tags"
        >
          [+] Tags
        </a>
      </h3>
      <ul class="tag-list | cluster" aria-labelledby="tags-title">
        {tags.map((item) => (
          <li>
            <a href={`/tags/${item}/`} class="tag | primary-selectable">
              {item}
            </a>
          </li>
        ))}
      </ul>
    </section>
  )
}

<style lang="scss">
  section {
  }

  h3 {
    max-width: max-content;
    margin-bottom: var(--size-2);
    color: var(--clr-text-secondary);
    font-family: var(--ff-pixelated);
    font-size: var(--fs-pixelated-small);
    text-transform: uppercase;
    white-space: nowrap;
  }

  .tag-list {
    gap: 1ch;
    font-family: var(--ff-dotmatrix);
    font-size: 0.75rem;
  }

  .tag {
    text-transform: capitalize;
    display: flex;
    align-items: center;
    gap: 0.25ch;
    text-transform: uppercase;

    &::before {
      content: "#";
      font-size: 1.2em;
      font-family: var(--ff-pixelated);
      color: var(--clr-text-subdued);
      transition: color 0.1s ease-in-out;
    }

    &:is(:hover, :focus-within) {
      &::before {
        color: var(--clr-text-highlight);
      }
    }
  }
</style>
